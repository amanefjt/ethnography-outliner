# 実装計画：ビジュアルの強化と表示バグの修正

## 変更対象リスト
- `style.css`: カラーパレットの拡張、選択スタイルの更新、グループヘッダーのレイアウト修正。
- `main.js`: グループ生成時の配色ロジックの微調整（必要あれば）。

## 設計方針

### 1. 全体配色の導入 (Rationale)
現在は枠線のみに色がついていますが、背景色も同系統の淡い色に塗りつぶすことで、情報の「塊（グループ）」を直感的に把握しやすくします。
- **解決策**: CSS 変数を使用して各色の `background` 用と `border` 用の色を定義します。
- **実装例**: `.color-blue` なら `background-color: var(--blue-bg); border-color: var(--blue-border);` とします。

### 2. 選択スタイルの強調
- **解決策**: `.selected` 指定時の `border-width` を `1px` から `3px` 程度に増やし、枠線の色もアクセントカラー（琥珀色など）に変更します。

### 3. グループヘッダーの安定化 (Rationale)
`sticky` 配置と負のマージン（`margin: -24px`）の組み合わせが、キャンバス全体の `transform (scale)` やドラッグ時の座標計算と干渉し、位置ズレを引き起こしている可能性があります。
- **解決策**:
    - グループカードの `padding` を調整し、ヘッダーを `position: absolute; top: 0; left: 0; right: 0;` で固定します。
    - コンテンツ（中のノートなど）がヘッダーと重ならないよう、カード自体の `padding-top` を適切に確保します。

## 設計を選んだ根拠 (Rationale)
- **情報の構造化への貢献**: 空間配置において「色」は強力なカテゴリー属性です。背景色まで変えることで、遠目からでも議論の構造が見えやすくなります。
- **堅牢なレイアウト**: `absolute` 配置によるヘッダー固定は、ブラウザのレンダリングやキャンバスの移動に対して最も予測しやすく安定した挙動を提供します。
